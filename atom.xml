<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hebin Technology Blog</title>
  <subtitle>一个有态度的技术博客！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.fakerbin.com/"/>
  <updated>2016-05-08T11:32:17.149Z</updated>
  <id>http://www.fakerbin.com/</id>
  
  <author>
    <name>Hebin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用snmp协议获取centos系统相关信息</title>
    <link href="http://www.fakerbin.com/2016-05-08/snmp/"/>
    <id>http://www.fakerbin.com/2016-05-08/snmp/</id>
    <published>2016-05-08T01:20:14.000Z</published>
    <updated>2016-05-08T11:32:17.149Z</updated>
    
    <content type="html">&lt;p&gt;使用snmp获取设备CPU、内存、流量及磁盘信息。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;实验环境：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;操作系统：CentOS Linux release 7.2.1511 
内核：3.10.0-327.13.1.el7.x86_64 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;注：&lt;br&gt;    由于北京WAF设备授权证书过期，无法配置使用snmp，因此在centos进行试验。&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&quot;snmp及net-snmp简介&quot;&gt;&lt;a href=&quot;#snmp及net-snmp简介&quot; class=&quot;headerlink&quot; title=&quot;snmp及net-snmp简介&quot;&gt;&lt;/a&gt;snmp及net-snmp简介&lt;/h2&gt;&lt;h3 id=&quot;1-什么是SNMP&quot;&gt;&lt;a href=&quot;#1-什么是SNMP&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是SNMP&quot;&gt;&lt;/a&gt;1. 什么是SNMP&lt;/h3&gt;&lt;p&gt; 　　“简单网络管理协议”，用于网络管理的协议。SNMP用于网络设备的管理。SNMP的工作方式：管理员需要向设备获取数据，所以SNMP提供了“读”操作；管理员需要向设备执行设置操作，所以SNMP提供了“写”操作；设备需要在重要状况改变的时候，向管理员通报事件的发生，所以SNMP提供了“Trap”操作。&lt;/p&gt;
&lt;h3 id=&quot;2-支持的基本操作&quot;&gt;&lt;a href=&quot;#2-支持的基本操作&quot; class=&quot;headerlink&quot; title=&quot;2. 支持的基本操作&quot;&gt;&lt;/a&gt;2. 支持的基本操作&lt;/h3&gt;&lt;p&gt; 　　对于网络管理，我们面对的数据是设备的配置、参数、状态等信息，面对的操作是读取和设置；同时，因为网络设备众多，为了能及时得到设备的重要状态，还要求设备能主动地汇报重要状态，这就是报警功能。&lt;br&gt;　　读取设备信息—— get&lt;br&gt;　　设置设备参数—— set&lt;br&gt;　　发送设备告警—— trap&lt;/p&gt;
&lt;h3 id=&quot;3-snmp协议版本&quot;&gt;&lt;a href=&quot;#3-snmp协议版本&quot; class=&quot;headerlink&quot; title=&quot;3. snmp协议版本&quot;&gt;&lt;/a&gt;3. snmp协议版本&lt;/h3&gt;&lt;p&gt;　　SNMP共有v1，v2，v3这三个版本：&lt;br&gt;　　1. v1和v2都具有基本的读、写MIB功能。&lt;br&gt;　　2. v2增加了警报、批量数据获取、管理站和管理站通信能力。&lt;br&gt;　　3. v3在v2的基础上增加了USM，使用加密的数据和用户验证技术，提高了安全性。&lt;br&gt;　　4. 另外，RMON是SNMP的一个重要扩展，为SNMP增加了子网流量、统计、分析能力。现有两个版本： Rmon：提供了OSI七层网络结构中网络层和数据链路层监视能力。Rmon2：提供了OSI七层网络结构中网络层之上各层的监视能力。&lt;/p&gt;
&lt;h3 id=&quot;4-mib介绍&quot;&gt;&lt;a href=&quot;#4-mib介绍&quot; class=&quot;headerlink&quot; title=&quot;4. mib介绍&quot;&gt;&lt;/a&gt;4. mib介绍&lt;/h3&gt;&lt;p&gt;　　MIB－管理信息库：IETF规定的管理信息库MIB（由中定义了可访问的网络设备及其属性，由对象识别符（OID：Object Identifier）唯一指定。MIB是一个树形结构，SNMP协议消息通过遍历MIB树形目录中的节点来访问网络中的设备。下图给出了NMS系统中SNMP可访问网络设备的对象识别树（OID：Object Identifier）结构：&lt;br&gt;&lt;img src=&quot;131305119.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;上图中的节点是从internet开始的，其实上面还有几个节点请如下图：&lt;br&gt;&lt;img src=&quot;2033581_1381377458dcsk.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;下图给出了对一个DS1线路状态进行查询的OID设置例子:&lt;br&gt;&lt;img src=&quot;131321163.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;5-net-snmp工具简介&quot;&gt;&lt;a href=&quot;#5-net-snmp工具简介&quot; class=&quot;headerlink&quot; title=&quot;5. net-snmp工具简介&quot;&gt;&lt;/a&gt;5. net-snmp工具简介&lt;/h3&gt;&lt;p&gt;　　Net-snmp是一个开源的SNMP项目。最新版本为：5.7.2。net-snmp支持snmpv1、snmpv2、snmpv3，支持基于IPv4和IPv6的SNMP应用程序。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;* Net-snmp提供完整的API用于SNMP应用程序开发，包括C和Perl的API 。
* 一个功能强大且可扩展的SNMP代理：snmpd开发者可以开发动态模块扩展snmpd，net-snmp内置扩展子代理与主代理的通信协议。
* 提供众多命令行工具检查和使用SNMP协议
* 一个图形化的MIB浏览工具
* 一个Trap接收进程，用于接收和显示Trap，并将Trap记录到日志文件中。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;　　使用net-snmp作为学习SNMP的工具，搭建一个net-snmp环境，用来测试snmp协议。&lt;/p&gt;
&lt;h2 id=&quot;安装net-snmp&quot;&gt;&lt;a href=&quot;#安装net-snmp&quot; class=&quot;headerlink&quot; title=&quot;安装net-snmp&quot;&gt;&lt;/a&gt;安装net-snmp&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;yum intall net-snmp net-snmp-devel net-snmp-libs net-snmp-utils
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt; 命令介绍： &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;net-snmp-config：（net-snmp-devel包中）查看已安装的net-snmp的相关信息，比如可以用&lt;code&gt;net-snmp-config --default-mibdirs&lt;/code&gt;查看MIB文件的位置（也可以用&lt;code&gt;snmptranslate -Dinit_mib .1.3 2&amp;gt;&amp;amp;1 |grep MIBDIR&lt;/code&gt;查看）；也可以用：&lt;br&gt;&lt;code&gt;net-snmp-config --create-snmpv3-user [-ro] [-a authpass] [-x privpass] [-X DES|AES] [-A MD5|SHA] [username]&lt;/code&gt;来创建&lt;code&gt;snmpv3 user&lt;/code&gt;：&lt;pre&gt;&lt;code&gt;-a authpass：用户密码
-A MD5|SHA：用户密码加密方式
-x privpass：传输加密密码
-X DES|AES：传输加密方式
username：用户名
&lt;/code&gt;&lt;/pre&gt;  对应的参数可以在WAF设配中的SNMP配置中一一对应。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpconf&lt;/code&gt;&lt;/strong&gt;：创建或者修改snmp的相关配置文件&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpget&lt;/code&gt;&lt;/strong&gt;：模拟snmp的GetRequest操作的工具。一般用来获取管理信息节点下单个示例的信息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpnext&lt;/code&gt;&lt;/strong&gt;：模拟snmp的GetNextRequest操作的工具。用来获取一个管理信息实例的下一个可用实例数据。一般用来遍历SNMP中的表格数据。容错性比&lt;code&gt;snmpget&lt;/code&gt;好，因此一般用它，而不是用&lt;code&gt;snmpget&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpset&lt;/code&gt;&lt;/strong&gt;：模拟snmp的SetRequest操作的工具。用来设置可以写的管理信息。一般用来配置设备或对设备执行操作。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpbulkget&lt;/code&gt;&lt;/strong&gt;：模拟snmp的GetBulkRequest操作的工具。用来获取大块的数据。一般在大量读取大块数据时使用，以提高带宽利用率，并且比使用snmpget、snmpgetnext及snmpwalk有更强的容错能力，代理会返回尽可能多的数据，比其它命令更有保证。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpwalk&lt;/code&gt;&lt;/strong&gt;：利用GetNextRequest对给定的管理树进行遍历的工具。一般用来对表格类型管理信息进行遍历。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmptrap&lt;/code&gt;&lt;/strong&gt;：模拟trap的工具。用来发送模拟trap。一般用来测试管理站安装和配置是否正确，或者用来验证开发的Trap接收程序是否可以正常工作。&lt;/li&gt;
&lt;li&gt;snmptrapd：接收并显示trap的工具。一般在代理的开发过程中，接收代理发来的Trap，并将PDU细节打印出来，也来测试Trap发送功能是否正常。&lt;/li&gt;
&lt;li&gt;snmpinform：模拟发送InformRequest的工具。跟snmptrap类似，用来发送模拟的带应答的Trap，以测试管理站或自己开发的接收程序。&lt;/li&gt;
&lt;li&gt;snmptable：使用GetNextRequest 和 GetBulkRequest操作读取表信息，以列表形式显示的工具。&lt;/li&gt;
&lt;li&gt;snmpstatus：从SNMP实体读取几个重要的管理信息以确定设备状态的工具。用来简单测定设备状态。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpbulkwalk&lt;/code&gt;&lt;/strong&gt;：利用GetBulkRequest实现对给定管理树进行遍历的工具。对表格类型的管理信息进行遍历读取。&lt;/li&gt;
&lt;li&gt;snmpdelta：用来监视Integer类型的管理对象，会及时报告值改变情况的工具。用于监测一个设备或开发中的代理。&lt;/li&gt;
&lt;li&gt;snmptest：是一个复杂的工具，可以监测和管理一个网络实体的信息，通过SNMP请求操作与管理实体通信。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmptranslate&lt;/code&gt;&lt;/strong&gt;：将对象名字和标识符相互转换的工具。用于数据格式的对象标识和可读式字符串的数据名称的转换。类似于域名与IP地址的关系。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpusm&lt;/code&gt;&lt;/strong&gt;：SNMPv3 USM配置工具。用于SNMPv3的用户管理。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpvacm&lt;/code&gt;&lt;/strong&gt;：为一个网络实体创建和维护SNMPv3的基于视图访问控制参数的工具。用于维护SNMPv3的视图访问控制。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;snmpd&lt;/code&gt;&lt;/strong&gt;：Net-snmp开发的主代理程序，包括众多标准MIB的实现。还可以使用子代理对其进行扩展，是一个功能强大的SNMP代理。Linux、Unix和Windows系统运行snmpd后，直接具备了SNMP协议支持，可以被管理站管理。许多商业化的Linux中使用snmpd作为系统的SNMP代理。&lt;/li&gt;
&lt;li&gt;snmpdf：通过SNMP访问并显示网络实体磁盘利用情况的工具。用来监测网络实体的磁盘。&lt;br&gt;　　上面这些命令常用的参数有：&lt;pre&gt;&lt;code&gt;-v 1|2c|3 : snmp版本
-c community : v1/v2的community name
&lt;/code&gt;&lt;/pre&gt;　　例如：&lt;br&gt;&lt;code&gt;[root@centos-desktop snmp]# snmpwalk -c public -v2c localhost if&lt;/code&gt;&lt;pre&gt;&lt;code&gt;IF-MIB::ifIndex.1 = INTEGER: 1
IF-MIB::ifIndex.2 = INTEGER: 2
IF-MIB::ifIndex.3 = INTEGER: 3
IF-MIB::ifIndex.4 = INTEGER: 4
IF-MIB::ifDescr.1 = STRING: lo
IF-MIB::ifDescr.2 = STRING: eno16777736
IF-MIB::ifDescr.3 = STRING: virbr0
IF-MIB::ifDescr.4 = STRING: virbr0-nic
IF-MIB::ifType.1 = INTEGER: softwareLoopback(24)
IF-MIB::ifType.2 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifType.3 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifType.4 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifMtu.1 = INTEGER: 65536
IF-MIB::ifMtu.2 = INTEGER: 1500
IF-MIB::ifMtu.3 = INTEGER: 1500
IF-MIB::ifMtu.4 = INTEGER: 1500
IF-MIB::ifSpeed.1 = Gauge32: 10000000
IF-MIB::ifSpeed.2 = Gauge32: 1000000000
IF-MIB::ifSpeed.3 = Gauge32: 0
IF-MIB::ifSpeed.4 = Gauge32: 10000000
IF-MIB::ifPhysAddress.1 = STRING: 
IF-MIB::ifPhysAddress.2 = STRING: 0:c:29:48:3f:11
IF-MIB::ifPhysAddress.3 = STRING: 52:54:0:c6:ee:66
IF-MIB::ifPhysAddress.4 = STRING: 52:54:0:c6:ee:66
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;[root@centos-desktop snmp]# snmpget -c public -v1 localhost system.sysDescr.0&lt;/code&gt;&lt;br&gt;        SNMPv2-MIB::sysDescr.0 = STRING: Linux centos-desktop 3.10.0-327.13.1.el7.x86_64 #1 SMP Thu Mar 31 16:04:38 UTC 2016 x86_64&lt;/p&gt;
&lt;h2 id=&quot;snmpd配置&quot;&gt;&lt;a href=&quot;#snmpd配置&quot; class=&quot;headerlink&quot; title=&quot;snmpd配置&quot;&gt;&lt;/a&gt;snmpd配置&lt;/h2&gt;&lt;h3 id=&quot;snmp-v1-v2配置&quot;&gt;&lt;a href=&quot;#snmp-v1-v2配置&quot; class=&quot;headerlink&quot; title=&quot;snmp v1/v2配置&quot;&gt;&lt;/a&gt;snmp v1/v2配置&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;编辑配置文件&lt;code&gt;/etc/snmp/snmpd.conf&lt;/code&gt;如下：  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;## snmp v1/v2配置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;com2sec notConfigUser    default       public&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;group   notConfigGroup   v1            notConfigUser&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;group   notConfigGroup   v2c           notConfigUser&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;view    systemview       included      .1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;access  notConfigGroup   &amp;quot;&amp;quot;   any      noauth    exact  systemview systemview none&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;includeAllDisks 5%&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;相关解释：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;com2sec notConfigUser    default       public&lt;/code&gt;：&lt;br&gt;　　定义安全名&lt;code&gt;notConfigUser&lt;/code&gt;,并将共同体&lt;code&gt;public&lt;/code&gt;归入其中，这里notConfigUser相当于用户名，public相当于密码，因此我们只要知道community（共同体的名称），就可以访相应设备管理信息。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group   notConfigGroup   v1            notConfigUser&lt;/code&gt;:&lt;br&gt;　　将定义安全组&lt;code&gt;notConfigGroup&lt;/code&gt;，并将安全名&lt;code&gt;notConfigUser&lt;/code&gt;归入其中，&lt;code&gt;v1&lt;/code&gt;参数表示支持snmp v1，可选值为v1|v2c|usm&lt;/li&gt;
&lt;li&gt;&lt;code&gt;view    systemview       included      .1&lt;/code&gt;：&lt;br&gt;　　定义systemview视图，表示&lt;code&gt;systemview&lt;/code&gt;这个试图包含&lt;code&gt;.1&lt;/code&gt;节点及其子节点信息，这里也就是整个管理树。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;access  notConfigGroup   &amp;quot;&amp;quot;   any      noauth    exact  systemview systemview none&lt;/code&gt;：&lt;br&gt;　　访问控制，表示&lt;code&gt;notConfigGroup&lt;/code&gt;这个安全组可以‘只读’，‘读写’&lt;code&gt;systemview&lt;/code&gt;这个视图，&lt;code&gt;any&lt;/code&gt;表示安全模式（v1|v2|usm），&lt;code&gt;noauth&lt;/code&gt;表示安全模式（auth|noauth|priv），v1，v2c中只能使用noauth。后面三个参数&lt;code&gt;systemview``systemview``none&lt;/code&gt;代表的含义一次是：授权可读的视图，授权可写视图，授权可发送trap的视图。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;includeAllDisks 5%&lt;/code&gt;:&lt;br&gt;　　磁盘检查配置，这里&lt;code&gt;includeAllDisks&lt;/code&gt;表示监视设备所有磁盘，&lt;code&gt;5%&lt;/code&gt;表示当磁盘剩余空间小于等于5%时，发送告警（trap）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;snmp-v3-usm-配置&quot;&gt;&lt;a href=&quot;#snmp-v3-usm-配置&quot; class=&quot;headerlink&quot; title=&quot;snmp v3(usm)配置&quot;&gt;&lt;/a&gt;snmp v3(usm)配置&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;利用&lt;code&gt;net-snmp-config&lt;/code&gt;命令创建v3用户(首先关闭snmpd服务-systemctl stop snmpd)：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;net-snmp-config --create-snmpv3-user -ro -a 1234qwer -A SHA  -x 1234qwer -X AES snmpv3user
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  &lt;code&gt;[root@centos-desktop snmp]# net-snmp-config --create-snmpv3-user -ro -a 1234qwer -A SHA  -x 1234qwer -X AES snmpv3user&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;adding the following line to /var/lib/net-snmp/snmpd.conf:
       createUser snmpv3user SHA &amp;quot;1234qwer&amp;quot; AES 1234qwer
adding the following line to /etc/snmp/snmpd.conf:
       rouser snmpv3user
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;　　    可以看出在&lt;code&gt;/etc/snmp/cnmpd.conf&lt;/code&gt;中最后一行增加了一句&lt;code&gt;rouser snmpv3user001&lt;/code&gt;。在&lt;code&gt;/etc/snmp/snmpd.conf&lt;/code&gt;中添加了一句&lt;code&gt;rouser snmpv3user&lt;/code&gt;，这表示snmpv3user这个用户默认可以&lt;strong&gt;读取&lt;/strong&gt;整个管理信息树上所有节点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;手动创建并配置snmpv3用户：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关闭snmpd服务&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;/var/lib/net-snmp/snmpd.conf&lt;/code&gt;中添加一句&lt;code&gt;createUser snmpv3user SHA &amp;quot;1234qwer&amp;quot; AES 1234qwer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;/etc/snmp/snmpd.conf&lt;/code&gt;中添加一句&lt;code&gt;rwuser snmpv3user .1&lt;/code&gt;，格式为&lt;code&gt;r[o|w]user [−s SECMODEL] USER [noauth|auth|priv [OID | −V VIEW [CONTEXT]]]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;启动snmpd服务&lt;br&gt;这样和利用net-snmp-config命令的作用是一样的。测试：&lt;br&gt;&lt;code&gt;[root@centos-desktop snmp]# snmpwalk -l authPriv -u snmpv3user -A 1234qwer -a SHA -X 1234qwer -x AES localhost if&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;IF-MIB::ifIndex.1 = INTEGER: 1
IF-MIB::ifIndex.2 = INTEGER: 2
IF-MIB::ifIndex.3 = INTEGER: 3
IF-MIB::ifIndex.4 = INTEGER: 4
IF-MIB::ifDescr.1 = STRING: lo
IF-MIB::ifDescr.2 = STRING: eno16777736
IF-MIB::ifDescr.3 = STRING: virbr0
IF-MIB::ifDescr.4 = STRING: virbr0-nic
IF-MIB::ifType.1 = INTEGER: softwareLoopback(24)
IF-MIB::ifType.2 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifType.3 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifType.4 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifMtu.1 = INTEGER: 65536
IF-MIB::ifMtu.2 = INTEGER: 1500
IF-MIB::ifMtu.3 = INTEGER: 1500
IF-MIB::ifMtu.4 = INTEGER: 1500
.........
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;注：&lt;/strong&gt;&lt;br&gt;v3 验证常用参数：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-v 3                   specifies SNMP version to use
-u USER-NAME          set security name (e.g. bert)
-l LEVEL              set security level (noAuthNoPriv|authNoPriv|authPriv)
-a PROTOCOL           set authentication protocol (MD5|SHA)
-A PASSPHRASE         set authentication protocol pass phrase
-x PROTOCOL           set privacy protocol (DES|AES)
-X PASSPHRASE         set privacy protocol pass phrase
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装pysnmp库&quot;&gt;&lt;a href=&quot;#安装pysnmp库&quot; class=&quot;headerlink&quot; title=&quot;安装pysnmp库&quot;&gt;&lt;/a&gt;安装pysnmp库&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;yum install python-devel -y
pip install pysnmp
pip install pysnmp-mibs
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;　　pysnmp是一个纯python实现snmp协议，并且完全支持v1/v2/v3版本，可以模拟get，walk，next，bulkwalk，trap等命令。pysnmp4.3.0之前版本只有原生api，由&lt;code&gt;CommandGenerator&lt;/code&gt;生成一个类似net-snmp的各种命令；pysnmp4.3.0及之后版本，新增&lt;code&gt;hlapi&lt;/code&gt;，调用更为简洁。&lt;/p&gt;
&lt;h2 id=&quot;利用pysnmp获取设备信息&quot;&gt;&lt;a href=&quot;#利用pysnmp获取设备信息&quot; class=&quot;headerlink&quot; title=&quot;利用pysnmp获取设备信息&quot;&gt;&lt;/a&gt;利用pysnmp获取设备信息&lt;/h2&gt;&lt;p&gt;本实验采用原生api。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;snmp v2：&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;154&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;155&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; time&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; pysnmp.entity.rfc3413.oneliner &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; cmdgen&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;printErr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;pass&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getCpuUsage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(targetHost, targetPort, cmd, community)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    errIndication, errStatus, errIndex, varBindTable = cmd.nextCmd(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.CommunityData(community, mpModel=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;), 	&lt;span class=&quot;comment&quot;&gt;# mpModel=1,表示使用v2协议&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.UdpTransportTarget((targetHost,targetPort)), &lt;span class=&quot;comment&quot;&gt;# 设备ip及端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;ssCpuIdle&#39;&lt;/span&gt;),  &lt;span class=&quot;comment&quot;&gt;# 需要访问信息的MIB库及子节点，也可以用形如&#39;1.3.6.1.4&#39;的方式来定义&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupValues=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errIndication:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; errIndication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errStatus:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;%s at %s&#39;&lt;/span&gt; % (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                errStatus.prettyPrint(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                errIndex &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; varBindTable[&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;][int(errIndex)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; - float(varBindTable[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].prettyPrint())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getMemUsage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(targetHost, targetPort, cmd, community)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    errIndication, errStatus, errIndex, varBindTable = cmd.nextCmd(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.CommunityData(community, mpModel=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.UdpTransportTarget((targetHost,targetPort)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;memTotalReal&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.4.1.2021.4.5&#39;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;memAvailReal&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.4.1.2021.4.6&#39;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;memBuffer&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.4.1.2021.4.14&#39;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;memCached&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;# &#39;1.3.6.1.4.1.2021.4.15&#39;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupValues=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupNames=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errIndication:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; errIndication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errStatus:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;%s at %s&#39;&lt;/span&gt; % (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                errStatus.prettyPrint(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                errIndex &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; varBindTable[&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;][int(errIndex)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mysum = &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            totalAvailReal = float(varBindTable[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].prettyPrint())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; var &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; varBindTable:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; name , val &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; var:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    mysum += float(val.prettyPrint())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;*totalAvailReal - mysum) / totalAvailReal * &lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getIfaceTraffic&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(targetHost, targetPort, cmd, community, period)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getNowTraffic&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        errIndication, errStatus, errIndex, varBindTable = cmd.nextCmd(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cmdgen.CommunityData(community, mpModel=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cmdgen.UdpTransportTarget((targetHost,targetPort)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;IF-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ifDescr&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;# &#39;1.3.6.1.2.1.2.2.1.2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;IF-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ifInOctets&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;# &#39;1.3.6.1.2.1.2.2.1.10&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;IF-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ifOutOctets&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.2.1.2.2.1.16&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;#lookupValues=True,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;#lookupNames=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errIndication:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; errIndication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errStatus:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;%s at %s&#39;&lt;/span&gt; % (errStatus.prettyPrint(), errIndex \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; varBindTable[&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;][int(errIndex)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                result = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;#print varBindTable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; var &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; varBindTable:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    tempResult = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; name , val &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; var:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        tempResult[name.getLabel()[len(name.getLabel())&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]] = val.prettyPrint()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    result.append(tempResult)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    preTraffic = getNowTraffic()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#print preTraffic&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    time.sleep(period)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    afterTraffic = getNowTraffic()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#print afterTraffic&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    traffic = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(len(preTraffic) != len(afterTraffic)):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ifaceNum = len(preTraffic)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(ifaceNum):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; preTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifDescr&#39;&lt;/span&gt;] == afterTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifDescr&#39;&lt;/span&gt;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            m = float(preTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifInOctets&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mm = float(afterTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifInOctets&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            n = float(preTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifOutOctets&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            nn = float(afterTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifOutOctets&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ifaceName = preTraffic[i][&lt;span class=&quot;string&quot;&gt;&#39;ifDescr&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            traffic.append(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&#39;ifaceName&#39;&lt;/span&gt;:ifaceName,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&#39;inTraffic(Mbps)&#39;&lt;/span&gt;:(mm-m)/period/&lt;span class=&quot;number&quot;&gt;1048576&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&#39;outTraffic(Mbps)&#39;&lt;/span&gt;:(nn-n)/period/&lt;span class=&quot;number&quot;&gt;1048576&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; traffic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getDiskUsage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(targetHost, targetPort, cmd, community)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    errIndication, errStatus, errIndex, varBindTable = cmd.nextCmd(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.CommunityData(community, mpModel=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.UdpTransportTarget((targetHost,targetPort)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;dskPath&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;# &#39;1.3.6.1.4.1.2021.9.1.2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;dskTotal&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;# &#39;1.3.6.1.4.1.2021.9.1.6&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;dskPercent&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.4.1.2021.9.1.9&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;dskDevice&#39;&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;#&#39;1.3.6.1.4.1.2021.9.1.3&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupValues=True,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupNames=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errIndication:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; errIndication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errStatus:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;%s at %s&#39;&lt;/span&gt; % (errStatus.prettyPrint(), errIndex \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; varBindTable[&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;][int(errIndex)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            result = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; var &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; varBindTable:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                tempResult = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; name , val &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; var:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    tempResult[name.getLabel()[len(name.getLabel())&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]] = val.prettyPrint()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                result.append(tempResult)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    targetHost = &lt;span class=&quot;string&quot;&gt;&#39;192.168.184.136&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    targetPort = &lt;span class=&quot;number&quot;&gt;161&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cmd =cmdgen.CommandGenerator()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;CPU使用率：%s&#39;&lt;/span&gt; % \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        getCpuUsage(targetHost, targetPort, cmd, &lt;span class=&quot;string&quot;&gt;&#39;public&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;内存使用率：%s&#39;&lt;/span&gt; % \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        getMemUsage(targetHost, targetPort, cmd, &lt;span class=&quot;string&quot;&gt;&#39;public&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    period = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;网卡流量（%ss)：%s&#39;&lt;/span&gt; % (period, getIfaceTraffic(targetHost, targetPort, cmd, &lt;span class=&quot;string&quot;&gt;&#39;public&#39;&lt;/span&gt;, period))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;磁盘使用情况：%s&#39;&lt;/span&gt; %  getDiskUsage(targetHost, targetPort, cmd, &lt;span class=&quot;string&quot;&gt;&#39;public&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;输出结果：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;CPU使用率：1.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;内存使用率：29.1881375539&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;网卡流量（10s)：[&amp;#123;&amp;apos;inTraffic(Mbps)&amp;apos;: 0.0, &amp;apos;ifaceName&amp;apos;: u&amp;apos;lo&amp;apos;, &amp;apos;outTraffic(Mbps)&amp;apos;: 0.0&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;inTraffic(Mbps)&amp;apos;: 0.0009063720703125, &amp;apos;ifaceName&amp;apos;: u&amp;apos;eno16777736&amp;apos;, &amp;apos;outTraffic(Mbps)&amp;apos;: 0.00093841552734375&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;inTraffic(Mbps)&amp;apos;: 0.0, &amp;apos;ifaceName&amp;apos;: u&amp;apos;virbr0&amp;apos;, &amp;apos;outTraffic(Mbps)&amp;apos;: 0.0&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;inTraffic(Mbps)&amp;apos;: 0.0, &amp;apos;ifaceName&amp;apos;: u&amp;apos;virbr0-nic&amp;apos;, &amp;apos;outTraffic(Mbps)&amp;apos;: 0.0&amp;#125;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;磁盘使用情况：[&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;27740944&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;21&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;/dev/mapper/centos-root&amp;apos;&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;2015908&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;0&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/dev/shm&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;tmpfs&amp;apos;&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;2015908&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;0&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/run&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;tmpfs&amp;apos;&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;2015908&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;0&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/sys/fs/cgroup&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;tmpfs&amp;apos;&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;508588&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;42&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/boot&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;/dev/sda1&amp;apos;&amp;#125;, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&amp;apos;dskTotal&amp;apos;: &amp;apos;403184&amp;apos;, &amp;apos;dskPercent&amp;apos;: &amp;apos;0&amp;apos;, &amp;apos;dskPath&amp;apos;: u&amp;apos;/run/user/0&amp;apos;, &amp;apos;dskDevice&amp;apos;: u&amp;apos;tmpfs&amp;apos;&amp;#125;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;snmp v3&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; pysnmp.entity.rfc3413.oneliner &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; cmdgen&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;targetHost = &lt;span class=&quot;string&quot;&gt;&#39;192.168.184.136&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;targetPort = &lt;span class=&quot;number&quot;&gt;161&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cmd =cmdgen.CommandGenerator()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;errIndication, errStatus, errIndex, varBindTable = cmd.nextCmd(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.UsmUserData( &lt;span class=&quot;comment&quot;&gt;#与snmp v2相比只是认证用的信息发声了改变，上面是CommunityData&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;snmpv3user&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            authKey=&lt;span class=&quot;string&quot;&gt;&#39;1234qwer&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            privKey=&lt;span class=&quot;string&quot;&gt;&#39;1234qwer&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            authProtocol=cmdgen.usmHMACSHAAuthProtocol,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            privProtocol=cmdgen.usmAesCfb128Protocol&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.UdpTransportTarget((targetHost,targetPort)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cmdgen.MibVariable(&lt;span class=&quot;string&quot;&gt;&#39;UCD-SNMP-MIB&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;ssCpuIdle&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#lookupValues=True&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errIndication:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; errIndication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; errStatus:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;%s at %s&#39;&lt;/span&gt; % (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            errStatus.prettyPrint(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            errIndex &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; varBindTable[&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;][int(errIndex)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; - float(varBindTable[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].prettyPrint())&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;输出结果：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用snmp v1/v2与snmp v3协议的唯一不同之处，在于验证方式的不同。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://freeloda.blog.51cto.com/2033581/1306743&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址1：SNMP 原理与实战详解&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.hexu.org/archives/1698.shtml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址2：Net-SNMP V3协议 安装配置笔记（CentOS 6.3/5.6）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://pysnmp.sourceforge.net/docs/tutorial.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址3：pysnmp 官方文档&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;使用snmp获取设备CPU、内存、流量及磁盘信息。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Problem C. Not So Random</title>
    <link href="http://www.fakerbin.com/2016-03-18/Problem-C-Not-So-Random/"/>
    <id>http://www.fakerbin.com/2016-03-18/Problem-C-Not-So-Random/</id>
    <published>2016-03-18T08:53:30.000Z</published>
    <updated>2016-03-18T08:59:40.280Z</updated>
    
    <content type="html">&lt;p&gt;Google Codejam 2016.&lt;br&gt;Google APAC 2016 University Graduates Test.&lt;br&gt;Round E APAC Test 2016.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;&lt;code&gt;Problem&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;There is a certain “random number generator” (RNG) which takes one nonnegative integer as input and generates another nonnegative integer as output. But you know that the RNG is really not very random at all! It uses a fixed number K, and always performs one of the following three operations:&lt;/p&gt;
&lt;p&gt;with probability A/100: return the bitwise AND of the input and K&lt;br&gt;with probability B/100: return the bitwise OR of the input and K&lt;br&gt;with probability C/100: return the bitwise XOR of the input and K&lt;br&gt;(You may assume that the RNG is truly random in the way that it chooses the operation each time, based on the values of A, B, and C.)&lt;/p&gt;
&lt;p&gt;You have N copies of this RNG, and you have arranged them in series such that output from one machine will be the input for the next machine in the series. If you provide X as an input to the first machine, what will be the expected value of the output of the final machine in the series?&lt;/p&gt;
&lt;h3 id=&quot;Input&quot;&gt;&lt;a href=&quot;#Input&quot; class=&quot;headerlink&quot; title=&quot;Input&quot;&gt;&lt;/a&gt;&lt;code&gt;Input&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;The first line of the input gives the number of test cases, T. T test cases follow; each consists of one line with six integers N, X, K, A, B, and C. Respectively, these denote the number of machines, the initial input, the fixed number with which all the bitwise operations will be performed (on every machine), and 100 times the probabilities of the bitwise AND, OR, and XOR operations.&lt;/p&gt;
&lt;h3 id=&quot;Output&quot;&gt;&lt;a href=&quot;#Output&quot; class=&quot;headerlink&quot; title=&quot;Output&quot;&gt;&lt;/a&gt;&lt;code&gt;Output&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the expected value of the final output. y will be considered correct if it is within an absolute or relative error of 10-9 of the correct answer. See the FAQ for an explanation of what that means, and what formats of real numbers we accept.&lt;/p&gt;
&lt;h3 id=&quot;Limits&quot;&gt;&lt;a href=&quot;#Limits&quot; class=&quot;headerlink&quot; title=&quot;Limits&quot;&gt;&lt;/a&gt;&lt;code&gt;Limits&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;1 ≤ T ≤ 50.&lt;br&gt;0 ≤ A ≤ 100.&lt;br&gt;0 ≤ B ≤ 100.&lt;br&gt;0 ≤ C ≤ 100.&lt;br&gt;A+B+C = 100.&lt;/p&gt;
&lt;p&gt;Small dataset&lt;/p&gt;
&lt;p&gt;1 ≤ N ≤ 10.&lt;br&gt;0 ≤ X ≤ 104.&lt;br&gt;0 ≤ K ≤ 104.&lt;br&gt;Large dataset&lt;/p&gt;
&lt;p&gt;1 ≤ N ≤ 105.&lt;br&gt;0 ≤ X ≤ 109.&lt;br&gt;0 ≤ K ≤ 109.&lt;/p&gt;
&lt;h3 id=&quot;Sample&quot;&gt;&lt;a href=&quot;#Sample&quot; class=&quot;headerlink&quot; title=&quot;Sample&quot;&gt;&lt;/a&gt;&lt;code&gt;Sample&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;Input&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 5 5 10 50 40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2 5 5 10 50 40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10 15 21 70 20 10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Output&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Case #1: 3.0000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Case #2: 3.6000000000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Case #3: 15.6850579098&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;In sample test case #1, the final output will be 5 if AND or OR happens and 0 if XOR happens. So the probability of getting 5 is (0.1 + 0.5) and the probability of getting 0 is 0.4. So the expected final output is 5 &lt;em&gt; 0.6 + 0 &lt;/em&gt; 0.4 = 3.&lt;/p&gt;
&lt;p&gt;In sample test case #2, the final output will be 5 with probability 0.72, and 0 otherwise.&lt;/p&gt;
&lt;h3 id=&quot;Solution&quot;&gt;&lt;a href=&quot;#Solution&quot; class=&quot;headerlink&quot; title=&quot;Solution&quot;&gt;&lt;/a&gt;&lt;code&gt;Solution&lt;/code&gt;&lt;/h3&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;Google Codejam 2016.&lt;br&gt;Google APAC 2016 University Graduates Test.&lt;br&gt;Round E APAC Test 2016.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Problem A. Lazy Spelling Bee</title>
    <link href="http://www.fakerbin.com/2016-03-18/Problem-A-Lazy-Spelling-Bee/"/>
    <id>http://www.fakerbin.com/2016-03-18/Problem-A-Lazy-Spelling-Bee/</id>
    <published>2016-03-18T07:44:48.000Z</published>
    <updated>2016-03-18T08:58:12.667Z</updated>
    
    <content type="html">&lt;p&gt;Google Codejam 2016.&lt;br&gt;Google APAC 2016 University Graduates Test.&lt;br&gt;Round E APAC Test 2016.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Problem&quot;&gt;&lt;a href=&quot;#Problem&quot; class=&quot;headerlink&quot; title=&quot;Problem&quot;&gt;&lt;/a&gt;&lt;code&gt;Problem&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;In the Lazy Spelling Bee, a contestant is given a target word W to spell. The contestant’s answer word A is acceptable if it is the same length as the target word, and the i-th letter of A is either the i-th, (i-1)th, or (i+1)th letter of W, for all i in the range of the length of A. (The first letter of A must match either the first or second letter of W, since the 0th letter of W doesn’t exist. Similarly, the last letter of A must match either the last or next-to-last letter of W.) Note that the target word itself is always an acceptable answer word.&lt;/p&gt;
&lt;p&gt;You are preparing a Lazy Spelling Bee, and you have been asked to determine, for each target word, how many distinct acceptable answer words there are. Since this number may be very large, please output it modulo 1000000007 (109 + 7).&lt;/p&gt;
&lt;h3 id=&quot;Input&quot;&gt;&lt;a href=&quot;#Input&quot; class=&quot;headerlink&quot; title=&quot;Input&quot;&gt;&lt;/a&gt;&lt;code&gt;Input&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;The first line of the input gives the number of test cases, T. T test cases follow; each consists of one line with a string consisting only of lowercase English letters (a through z).&lt;/p&gt;
&lt;h3 id=&quot;Output&quot;&gt;&lt;a href=&quot;#Output&quot; class=&quot;headerlink&quot; title=&quot;Output&quot;&gt;&lt;/a&gt;&lt;code&gt;Output&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the number of distinct acceptable answer words, &lt;code&gt;modulo 109 + 7&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;Limits&quot;&gt;&lt;a href=&quot;#Limits&quot; class=&quot;headerlink&quot; title=&quot;Limits&quot;&gt;&lt;/a&gt;&lt;code&gt;Limits&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;1 ≤ T ≤ 100.&lt;br&gt;Small dataset&lt;/p&gt;
&lt;p&gt;1 ≤ length of each string ≤ 5.&lt;br&gt;Large dataset&lt;/p&gt;
&lt;p&gt;1 ≤ length of each string ≤ 1000.&lt;/p&gt;
&lt;h3 id=&quot;Sample&quot;&gt;&lt;a href=&quot;#Sample&quot; class=&quot;headerlink&quot; title=&quot;Sample&quot;&gt;&lt;/a&gt;&lt;code&gt;Sample&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;Input&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;aa&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;abcde&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;x&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;Output&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Case #1: 4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Case #2: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Case #3: 108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Case #4: 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;small_case.txt&quot;&gt;Small Case&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;small_case_out.txt&quot;&gt;Result&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;large_case.txt&quot;&gt;Large Case&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;large_case_out.txt&quot;&gt;Result&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; In sample case #1, the acceptable answer words are aa, ag, ga, and gg. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; In sample case #2, the only acceptable answer word is aa. &lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;Resolution&quot;&gt;&lt;a href=&quot;#Resolution&quot; class=&quot;headerlink&quot; title=&quot;Resolution&quot;&gt;&lt;/a&gt;Resolution&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;fp_in = open(&lt;span class=&quot;string&quot;&gt;&#39;in.txt&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;r+&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fp_out = open(&lt;span class=&quot;string&quot;&gt;&#39;out.txt&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;w+&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;T = fp_in.readline()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;T = int(T)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, T+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    w = fp_in.readline()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    w = w.split(&lt;span class=&quot;string&quot;&gt;&#39;\n&#39;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]	&lt;span class=&quot;comment&quot;&gt;#由于每行的换行符&#39;\n&#39;也会被读入，因此用此方法去掉结尾的&#39;\n&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    l = len(w)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    j, k, m = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; l &amp;gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; w[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] != w[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            j = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            j = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; w[l&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;] != w[l&lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            k = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            k = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        m = j * k&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fp_out.write(&lt;span class=&quot;string&quot;&gt;&#39;Case #%d: %d\r&#39;&lt;/span&gt; %(x, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,l&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        temp = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;+w[i&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]+w[i]+w[i+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        m *= len(set(temp))		&lt;span class=&quot;comment&quot;&gt;#去掉重复的字符&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    m1 = m % &lt;span class=&quot;number&quot;&gt;1000000007&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fp_out.write(&lt;span class=&quot;string&quot;&gt;&#39;Case #%d: %d\r&#39;&lt;/span&gt; %(x, m1))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fp_in.close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fp_out.close()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;只能说Python的语法太简洁了，其他的不多说了，就说在结果情况（也就是m）值很大时，不用去担心m的范围问题，因为Python的内置类型long可以支持无限长度的整数。&lt;/em&gt;&lt;br&gt;这个题用python太简单就不多解释。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://code.google.com/codejam/contest/8264486/dashboard#s=p0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;原文链接&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Google Codejam 2016.&lt;br&gt;Google APAC 2016 University Graduates Test.&lt;br&gt;Round E APAC Test 2016.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Python Standard Library 学习（翻译）</title>
    <link href="http://www.fakerbin.com/2016-03-17/Python-Standard-Library-%E5%AD%A6%E4%B9%A0%EF%BC%88%E7%BF%BB%E8%AF%91%EF%BC%89/"/>
    <id>http://www.fakerbin.com/2016-03-17/Python-Standard-Library-学习（翻译）/</id>
    <published>2016-03-17T08:37:36.000Z</published>
    <updated>2016-03-17T09:33:52.663Z</updated>
    
    <content type="html">&lt;p&gt;此篇博文是阅读Python标准库时的一些翻译及心得。&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h3&gt;&lt;h3 id=&quot;内置函数&quot;&gt;&lt;a href=&quot;#内置函数&quot; class=&quot;headerlink&quot; title=&quot;内置函数&quot;&gt;&lt;/a&gt;&lt;strong&gt;内置函数&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;内置常量&quot;&gt;&lt;a href=&quot;#内置常量&quot; class=&quot;headerlink&quot; title=&quot;内置常量&quot;&gt;&lt;/a&gt;&lt;strong&gt;内置常量&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;内置类型&quot;&gt;&lt;a href=&quot;#内置类型&quot; class=&quot;headerlink&quot; title=&quot;内置类型&quot;&gt;&lt;/a&gt;&lt;strong&gt;内置类型&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;内置异常&quot;&gt;&lt;a href=&quot;#内置异常&quot; class=&quot;headerlink&quot; title=&quot;内置异常&quot;&gt;&lt;/a&gt;&lt;strong&gt;内置异常&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;文本处理服务&quot;&gt;&lt;a href=&quot;#文本处理服务&quot; class=&quot;headerlink&quot; title=&quot;文本处理服务&quot;&gt;&lt;/a&gt;&lt;strong&gt;文本处理服务&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;二进制数据服务&quot;&gt;&lt;a href=&quot;#二进制数据服务&quot; class=&quot;headerlink&quot; title=&quot;二进制数据服务&quot;&gt;&lt;/a&gt;二进制数据服务&lt;/h3&gt;&lt;h3 id=&quot;数据类型&quot;&gt;&lt;a href=&quot;#数据类型&quot; class=&quot;headerlink&quot; title=&quot;数据类型&quot;&gt;&lt;/a&gt;&lt;strong&gt;数据类型&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;数字及数学有关模块&quot;&gt;&lt;a href=&quot;#数字及数学有关模块&quot; class=&quot;headerlink&quot; title=&quot;数字及数学有关模块&quot;&gt;&lt;/a&gt;数字及数学有关模块&lt;/h3&gt;&lt;h3 id=&quot;函数式编程模块&quot;&gt;&lt;a href=&quot;#函数式编程模块&quot; class=&quot;headerlink&quot; title=&quot;函数式编程模块&quot;&gt;&lt;/a&gt;函数式编程模块&lt;/h3&gt;&lt;h3 id=&quot;文件与目录访问&quot;&gt;&lt;a href=&quot;#文件与目录访问&quot; class=&quot;headerlink&quot; title=&quot;文件与目录访问&quot;&gt;&lt;/a&gt;&lt;strong&gt;文件与目录访问&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;数据持久化&quot;&gt;&lt;a href=&quot;#数据持久化&quot; class=&quot;headerlink&quot; title=&quot;数据持久化&quot;&gt;&lt;/a&gt;&lt;strong&gt;&lt;em&gt;数据持久化&lt;/em&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;数据压缩与归档&quot;&gt;&lt;a href=&quot;#数据压缩与归档&quot; class=&quot;headerlink&quot; title=&quot;数据压缩与归档&quot;&gt;&lt;/a&gt;数据压缩与归档&lt;/h3&gt;&lt;h3 id=&quot;文件格式&quot;&gt;&lt;a href=&quot;#文件格式&quot; class=&quot;headerlink&quot; title=&quot;文件格式&quot;&gt;&lt;/a&gt;文件格式&lt;/h3&gt;&lt;h3 id=&quot;加密服务&quot;&gt;&lt;a href=&quot;#加密服务&quot; class=&quot;headerlink&quot; title=&quot;加密服务&quot;&gt;&lt;/a&gt;加密服务&lt;/h3&gt;&lt;h3 id=&quot;通用操作系统服务&quot;&gt;&lt;a href=&quot;#通用操作系统服务&quot; class=&quot;headerlink&quot; title=&quot;通用操作系统服务&quot;&gt;&lt;/a&gt;通用操作系统服务&lt;/h3&gt;&lt;h3 id=&quot;并发执行&quot;&gt;&lt;a href=&quot;#并发执行&quot; class=&quot;headerlink&quot; title=&quot;并发执行&quot;&gt;&lt;/a&gt;&lt;strong&gt;并发执行&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;进程间通信与网络&quot;&gt;&lt;a href=&quot;#进程间通信与网络&quot; class=&quot;headerlink&quot; title=&quot;进程间通信与网络&quot;&gt;&lt;/a&gt;&lt;strong&gt;进程间通信与网络&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;互联网资料处理&quot;&gt;&lt;a href=&quot;#互联网资料处理&quot; class=&quot;headerlink&quot; title=&quot;互联网资料处理&quot;&gt;&lt;/a&gt;互联网资料处理&lt;/h3&gt;&lt;h3 id=&quot;结构化标记处理工具&quot;&gt;&lt;a href=&quot;#结构化标记处理工具&quot; class=&quot;headerlink&quot; title=&quot;结构化标记处理工具&quot;&gt;&lt;/a&gt;结构化标记处理工具&lt;/h3&gt;&lt;h3 id=&quot;互联网协议与支持&quot;&gt;&lt;a href=&quot;#互联网协议与支持&quot; class=&quot;headerlink&quot; title=&quot;互联网协议与支持&quot;&gt;&lt;/a&gt;互联网协议与支持&lt;/h3&gt;&lt;h3 id=&quot;多媒体服务&quot;&gt;&lt;a href=&quot;#多媒体服务&quot; class=&quot;headerlink&quot; title=&quot;多媒体服务&quot;&gt;&lt;/a&gt;多媒体服务&lt;/h3&gt;&lt;h3 id=&quot;国际化&quot;&gt;&lt;a href=&quot;#国际化&quot; class=&quot;headerlink&quot; title=&quot;国际化&quot;&gt;&lt;/a&gt;国际化&lt;/h3&gt;&lt;h3 id=&quot;程序框架&quot;&gt;&lt;a href=&quot;#程序框架&quot; class=&quot;headerlink&quot; title=&quot;程序框架&quot;&gt;&lt;/a&gt;程序框架&lt;/h3&gt;&lt;h3 id=&quot;Tk图形用户界面&quot;&gt;&lt;a href=&quot;#Tk图形用户界面&quot; class=&quot;headerlink&quot; title=&quot;Tk图形用户界面&quot;&gt;&lt;/a&gt;Tk图形用户界面&lt;/h3&gt;&lt;h3 id=&quot;开发工具&quot;&gt;&lt;a href=&quot;#开发工具&quot; class=&quot;headerlink&quot; title=&quot;开发工具&quot;&gt;&lt;/a&gt;开发工具&lt;/h3&gt;&lt;h3 id=&quot;调试与性能分析&quot;&gt;&lt;a href=&quot;#调试与性能分析&quot; class=&quot;headerlink&quot; title=&quot;调试与性能分析&quot;&gt;&lt;/a&gt;&lt;strong&gt;调试与性能分析&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;软件打包与发布&quot;&gt;&lt;a href=&quot;#软件打包与发布&quot; class=&quot;headerlink&quot; title=&quot;软件打包与发布&quot;&gt;&lt;/a&gt;&lt;strong&gt;软件打包与发布&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;Python运行时服务&quot;&gt;&lt;a href=&quot;#Python运行时服务&quot; class=&quot;headerlink&quot; title=&quot;Python运行时服务&quot;&gt;&lt;/a&gt;Python运行时服务&lt;/h3&gt;&lt;h3 id=&quot;自定义Python解释器&quot;&gt;&lt;a href=&quot;#自定义Python解释器&quot; class=&quot;headerlink&quot; title=&quot;自定义Python解释器&quot;&gt;&lt;/a&gt;自定义Python解释器&lt;/h3&gt;&lt;h3 id=&quot;导入模块&quot;&gt;&lt;a href=&quot;#导入模块&quot; class=&quot;headerlink&quot; title=&quot;导入模块&quot;&gt;&lt;/a&gt;导入模块&lt;/h3&gt;&lt;h3 id=&quot;Python语言服务&quot;&gt;&lt;a href=&quot;#Python语言服务&quot; class=&quot;headerlink&quot; title=&quot;Python语言服务&quot;&gt;&lt;/a&gt;Python语言服务&lt;/h3&gt;&lt;h3 id=&quot;杂项服务&quot;&gt;&lt;a href=&quot;#杂项服务&quot; class=&quot;headerlink&quot; title=&quot;杂项服务&quot;&gt;&lt;/a&gt;杂项服务&lt;/h3&gt;&lt;h3 id=&quot;Windows特定服务&quot;&gt;&lt;a href=&quot;#Windows特定服务&quot; class=&quot;headerlink&quot; title=&quot;Windows特定服务&quot;&gt;&lt;/a&gt;&lt;strong&gt;Windows特定服务&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;Unix特定服务&quot;&gt;&lt;a href=&quot;#Unix特定服务&quot; class=&quot;headerlink&quot; title=&quot;Unix特定服务&quot;&gt;&lt;/a&gt;&lt;strong&gt;Unix特定服务&lt;/strong&gt;&lt;/h3&gt;&lt;h3 id=&quot;作废的模块&quot;&gt;&lt;a href=&quot;#作废的模块&quot; class=&quot;headerlink&quot; title=&quot;作废的模块&quot;&gt;&lt;/a&gt;作废的模块&lt;/h3&gt;&lt;h3 id=&quot;未文档化的模块&quot;&gt;&lt;a href=&quot;#未文档化的模块&quot; class=&quot;headerlink&quot; title=&quot;未文档化的模块&quot;&gt;&lt;/a&gt;未文档化的模块&lt;/h3&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;此篇博文是阅读Python标准库时的一些翻译及心得。&lt;br&gt;&lt;/br&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://www.fakerbin.com/categories/Python/"/>
    
    
      <category term="标准库" scheme="http://www.fakerbin.com/tags/%E6%A0%87%E5%87%86%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Horizon</title>
    <link href="http://www.fakerbin.com/2016-03-16/Horizon/"/>
    <id>http://www.fakerbin.com/2016-03-16/Horizon/</id>
    <published>2016-03-16T07:51:50.000Z</published>
    <updated>2016-03-16T10:32:34.142Z</updated>
    
    <content type="html">&lt;p&gt;此篇博文主要介绍Horizon的视图相关问题！&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;问题介绍&quot;&gt;&lt;a href=&quot;#问题介绍&quot; class=&quot;headerlink&quot; title=&quot;问题介绍&quot;&gt;&lt;/a&gt;问题介绍&lt;/h3&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;以下是在&lt;code&gt;dashboard&lt;/code&gt;中认证成功后直接访问&lt;code&gt;http://host/images/&lt;/code&gt;时调用的视图模板&lt;code&gt;openstack_dashboard\dashboards\project\images\templates\images\index.html&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% extends &#39;base.html&#39; %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% load i18n %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% block title %&amp;#125;&amp;#123;% trans &quot;Images&quot; %&amp;#125;&amp;#123;% endblock %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% block main %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#123;&amp;#123; table.render &amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% endblock %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  该模板继承并重写了&lt;code&gt;base.html&lt;/code&gt;中的&lt;code&gt;block main&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;  然后再看调用该模板的视图&lt;code&gt;openstack_dashboard\dashboards\project\images\views.py&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;IndexView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(tables.DataTableView)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    table_class = images_tables.ImagesTable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    template_name = &lt;span class=&quot;string&quot;&gt;&#39;project/images/index.html&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    page_title = _(&lt;span class=&quot;string&quot;&gt;&quot;Images&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;has_prev_data&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, table)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; getattr(self, &lt;span class=&quot;string&quot;&gt;&quot;_prev&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;False&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;has_more_data&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, table)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; getattr(self, &lt;span class=&quot;string&quot;&gt;&quot;_more&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;False&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_data&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        prev_marker = self.request.GET.get(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            images_tables.ImagesTable._meta.prev_pagination_param, &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; prev_marker &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            marker = prev_marker&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            marker = self.request.GET.get(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                images_tables.ImagesTable._meta.pagination_param, &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        reversed_order = prev_marker &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            images, self._more, self._prev = api.glance.image_list_detailed(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                self.request,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                marker=marker,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                paginate=&lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                sort_dir=&lt;span class=&quot;string&quot;&gt;&#39;asc&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                sort_key=&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                reversed_order=reversed_order)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; Exception:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            images = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self._prev = self._more = &lt;span class=&quot;keyword&quot;&gt;False&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            exceptions.handle(self.request, _(&lt;span class=&quot;string&quot;&gt;&quot;Unable to retrieve images.&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; images&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  我们可以看出该视图类中并没有定义模板中需要的参数&lt;code&gt;table&lt;/code&gt;，也并没有Djano基于类视图所定义的&lt;code&gt;get()&lt;/code&gt;与&lt;code&gt;post()&lt;/code&gt;方法，而这三者都是必须的，那么我么可以想到，&lt;code&gt;table&lt;/code&gt;参数必定在该视图类的父类中定义，&lt;code&gt;get()&lt;/code&gt;与&lt;code&gt;post()&lt;/code&gt;同理。&lt;/p&gt;
&lt;p&gt;  首先看直接父类&lt;code&gt;DataTableView&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DataTableView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(MultiTableView)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;A class-based generic view to handle basic DataTable processing.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Three steps are required to use this view: set the ``table_class``&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attribute with the desired :class:`~horizon.tables.DataTable` class;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    define a ``get_data`` method which returns a set of data for the&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    table; and specify a template for the ``template_name`` attribute.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Optionally, you can override the ``has_more_data`` method to trigger&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    pagination handling for APIs that support it.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    table_class = &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    context_object_name = &lt;span class=&quot;string&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;_get_data_dict&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; self._data:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self.update_server_filter_action()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self._data = &amp;#123;self.table_class._meta.name: self.get_data()&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self._data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_data&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_tables&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; self._tables:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self._tables = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; has_permissions(self.request.user,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                               self.table_class._meta):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                self._tables[self.table_class._meta.name] = self.get_table()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self._tables&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_table&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# Note: this method cannot be easily memoized, because get_context_data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# uses its cached value directly.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; self.table_class:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt; AttributeError(&lt;span class=&quot;string&quot;&gt;&#39;You must specify a DataTable class for the &#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                 &lt;span class=&quot;string&quot;&gt;&#39;&quot;table_class&quot; attribute on %s.&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                 % self.__class__.__name__)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; hasattr(self, &lt;span class=&quot;string&quot;&gt;&quot;table&quot;&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self.table = self.table_class(self.request, **self.kwargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self.table&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_context_data&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, **kwargs)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        context = super(DataTableView, self).get_context_data(**kwargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; hasattr(self, &lt;span class=&quot;string&quot;&gt;&quot;table&quot;&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            context[self.context_object_name] = self.table&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; context&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, request, *args, **kwargs)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# If the server side table filter changed then go back to the first&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# page of data. Otherwise GET and POST handling are the same.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; self.handle_server_filter(request):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; shortcuts.redirect(self.get_table().get_absolute_url())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self.get(request, *args, **kwargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get_server_filter_info&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, request)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_action = self.get_table()._meta._filter_action&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_action &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; filter_action.filter_type != &lt;span class=&quot;string&quot;&gt;&#39;server&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        param_name = filter_action.get_param_name()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_string = request.POST.get(param_name)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_string_session = request.session.get(param_name, &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        changed = (filter_string &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; filter_string != filter_string_session)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_string &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            filter_string = filter_string_session&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_field_param = param_name + &lt;span class=&quot;string&quot;&gt;&#39;_field&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_field = request.POST.get(filter_field_param)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_field_session = request.session.get(filter_field_param)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_field &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; filter_field_session &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            filter_field = filter_field_session&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_info = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;action&#39;&lt;/span&gt;: filter_action,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;value_param&#39;&lt;/span&gt;: param_name,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;: filter_string,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;field_param&#39;&lt;/span&gt;: filter_field_param,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;field&#39;&lt;/span&gt;: filter_field,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;changed&#39;&lt;/span&gt;: changed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; filter_info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handle_server_filter&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, request)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Update the table server filter information in the session and&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        determine if the filter has been changed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_info = self.get_server_filter_info(request)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_info &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;False&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        request.session[filter_info[&lt;span class=&quot;string&quot;&gt;&#39;value_param&#39;&lt;/span&gt;]] = filter_info[&lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_info[&lt;span class=&quot;string&quot;&gt;&#39;field_param&#39;&lt;/span&gt;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            request.session[filter_info[&lt;span class=&quot;string&quot;&gt;&#39;field_param&#39;&lt;/span&gt;]] = filter_info[&lt;span class=&quot;string&quot;&gt;&#39;field&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; filter_info[&lt;span class=&quot;string&quot;&gt;&#39;changed&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;update_server_filter_action&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Update the table server side filter action based on the current&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter. The filter info may be stored in the session and this will&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        restore it.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        filter_info = self.get_server_filter_info(self.request)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_info &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            action = filter_info[&lt;span class=&quot;string&quot;&gt;&#39;action&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            setattr(action, &lt;span class=&quot;string&quot;&gt;&#39;filter_string&#39;&lt;/span&gt;, filter_info[&lt;span class=&quot;string&quot;&gt;&#39;value&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; filter_info[&lt;span class=&quot;string&quot;&gt;&#39;field_param&#39;&lt;/span&gt;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                setattr(action, &lt;span class=&quot;string&quot;&gt;&#39;filter_field&#39;&lt;/span&gt;, filter_info[&lt;span class=&quot;string&quot;&gt;&#39;field&#39;&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  其中也没有关于以上三者的定义，于是再看&lt;code&gt;MultiTableView&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MultiTableView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(MultiTableMixin, views.HorizonTemplateView)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;A class-based generic view to handle the display and processing of&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    multiple :class:`~horizon.tables.DataTable` classes in a single view.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Three steps are required to use this view: set the ``table_classes``&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    attribute with a tuple of the desired&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    :class:`~horizon.tables.DataTable` classes;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    define a ``get_&amp;#123;&amp;#123; table_name &amp;#125;&amp;#125;_data`` method for each table class&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    which returns a set of data for that table; and specify a template for&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    the ``template_name`` attribute.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;construct_tables&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tables = self.get_tables().values()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# Early out before data is loaded&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; table &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; tables:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            preempted = table.maybe_preempt()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; preempted:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; preempted&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# Load data into each table and check for action handlers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; table &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; tables:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            handled = self.handle_table(table)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; handled:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; handled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# If we didn&#39;t already return a response, returning None continues&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# with the view as normal.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, request, *args, **kwargs)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        handled = self.construct_tables()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; handled:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; handled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        context = self.get_context_data(**kwargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self.render_to_response(context)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, request, *args, **kwargs)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# GET and POST handling are the same&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self.get(request, *args, **kwargs)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;  在这里我们终于找到&lt;code&gt;get()&lt;/code&gt;与&lt;code&gt;post()&lt;/code&gt;的定义了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;此篇博文主要介绍Horizon的视图相关问题！&lt;br&gt;
    
    </summary>
    
      <category term="OpenStack" scheme="http://www.fakerbin.com/categories/OpenStack/"/>
    
    
      <category term="Horizon" scheme="http://www.fakerbin.com/tags/Horizon/"/>
    
  </entry>
  
  <entry>
    <title>Pacman主题设定</title>
    <link href="http://www.fakerbin.com/2016-03-15/Pacman%E4%B8%BB%E9%A2%98%E8%AE%BE%E5%AE%9A/"/>
    <id>http://www.fakerbin.com/2016-03-15/Pacman主题设定/</id>
    <published>2016-03-15T06:06:46.000Z</published>
    <updated>2016-03-16T07:40:37.875Z</updated>
    
    <content type="html">&lt;p&gt;折腾了两三天，终于把Hexo博客给顺利跑起来了，这也是自己的第一个博客。虽然自己对其中的很多原理也没搞清楚，但是终归是可以用了——工具是拿来用的，不是拿来折腾的！！！&lt;br&gt;这篇博文记录了自己搭建Hexo博客的整个过程，没有改插件，也没有创新，你可以把她看做是网上教程的一个小小汇总。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h1 id=&quot;域名与-Github-Pages&quot;&gt;&lt;a href=&quot;#域名与-Github-Pages&quot; class=&quot;headerlink&quot; title=&quot;域名与 Github Pages&quot;&gt;&lt;/a&gt;域名与 Github Pages&lt;/h1&gt;&lt;hr&gt;
&lt;h1 id=&quot;Hexo个性化&quot;&gt;&lt;a href=&quot;#Hexo个性化&quot; class=&quot;headerlink&quot; title=&quot;Hexo个性化&quot;&gt;&lt;/a&gt;Hexo个性化&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;添加多说评论系统及个性化&quot;&gt;&lt;a href=&quot;#添加多说评论系统及个性化&quot; class=&quot;headerlink&quot; title=&quot;添加多说评论系统及个性化&quot;&gt;&lt;/a&gt;添加多说评论系统及个性化&lt;/h2&gt;&lt;hr&gt;
&lt;h3 id=&quot;参考网址&quot;&gt;&lt;a href=&quot;#参考网址&quot; class=&quot;headerlink&quot; title=&quot;- 参考网址:&quot;&gt;&lt;/a&gt;- 参考网址:&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://ssk.91txh.com/209#&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;我采用的方法&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 大部分的js文件、css文件的修改都是根据该文件。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wsgzao.github.io/post/duoshuo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; 本篇文章内容写的不是太好，但是可以参考其主题的设定方式。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://myhloli.com/duoshuo-ua-and-admin-tab.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://tool.chinaz.com/Tools/JsFormat.aspx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JS代码格式化工具网址&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.duoshuo.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;多说官网&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;多说官方embed.js下载：&lt;a href=&quot;http://static.duoshuo.com/embed.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://static.duoshuo.com/embed.js&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wsgzao.github.io/post/hexo-jacman/#&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;基于Pacman改写的Jacman主题参考&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://yangjian.me/pacman/hello/introducing-pacman-theme/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pacman主题官方介绍&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;注意事项:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一定要配置多说的themes/pacman/_config.yml中的short_name，才能将文章同步到多说服务器上！！！具体原因还没有搞清楚。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&quot;添加返回文章顶部按钮&quot;&gt;&lt;a href=&quot;#添加返回文章顶部按钮&quot; class=&quot;headerlink&quot; title=&quot;添加返回文章顶部按钮&quot;&gt;&lt;/a&gt;添加返回文章顶部按钮&lt;/h2&gt;&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;Hexo已经为用户实现了清晰的模块化设计，我们只需要根据规范编写合适的EJS和JS文件放入指定目录并在所需位置进行引用即可，这里给大家分享如何为Hexo增加返回顶部功能。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://wsgzao.github.io/post/hexo-scroll-to-top/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考网址：Hexo添加返回顶部按钮&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;添加EJS代码：&quot;&gt;&lt;a href=&quot;#添加EJS代码：&quot; class=&quot;headerlink&quot; title=&quot;- 添加EJS代码：&quot;&gt;&lt;/a&gt;- 添加EJS代码：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;新建文件&lt;code&gt;/themes/pacman/layout/_partial/totop.ejs&lt;/code&gt; 添加如下代码:&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;totop&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;position:fixed;bottom:150px;right:50px;cursor: pointer;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;title&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;返回顶部&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;/imgs/scrollup.png&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;添加JS代码：&quot;&gt;&lt;a href=&quot;#添加JS代码：&quot; class=&quot;headerlink&quot; title=&quot;- 添加JS代码：&quot;&gt;&lt;/a&gt;- 添加JS代码：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;新建文件&lt;code&gt;/themes/pacman/source/js/totop.js&lt;/code&gt;，添加如下代码:&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;$&lt;/span&gt;) &lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// When to show the scroll link&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// higher number = scroll link appears further down the page   &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; upperLimit = &lt;span class=&quot;number&quot;&gt;150&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Our scroll link element&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; scrollElem = $(&lt;span class=&quot;string&quot;&gt;&#39;#totop&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Scroll to top speed&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; scrollSpeed = &lt;span class=&quot;number&quot;&gt;500&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Show and hide the scroll to top link based on scroll position   &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	scrollElem.hide();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).scroll(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; scrollTop = $(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).scrollTop();       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ( scrollTop &amp;gt; upperLimit ) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			$(scrollElem).stop().fadeTo(&lt;span class=&quot;number&quot;&gt;300&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// fade back in           &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			$(scrollElem).stop().fadeTo(&lt;span class=&quot;number&quot;&gt;300&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// fade out&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// Scroll to top animation on click&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	$(scrollElem).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		$(&lt;span class=&quot;string&quot;&gt;&#39;html, body&#39;&lt;/span&gt;).animate(&amp;#123;scrollTop:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&amp;#125;, scrollSpeed); &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)(jQuery);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;添加引用：&quot;&gt;&lt;a href=&quot;#添加引用：&quot; class=&quot;headerlink&quot; title=&quot;- 添加引用：&quot;&gt;&lt;/a&gt;- 添加引用：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;修改&lt;code&gt;/themes/pacman/layout/_partial/after_footer.ejs&lt;/code&gt;，在末尾添加以下代码:&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;%- partial(&lt;span class=&quot;string&quot;&gt;&#39;totop&#39;&lt;/span&gt;) %&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;%- config.root %&amp;gt;js/totop.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;添加按钮图片：&quot;&gt;&lt;a href=&quot;#添加按钮图片：&quot; class=&quot;headerlink&quot; title=&quot;- 添加按钮图片：&quot;&gt;&lt;/a&gt;- 添加按钮图片：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;复制下图到&lt;code&gt;/themes/pacman/source/imgs&lt;/code&gt;目录下，文件名为&lt;code&gt;scrollup.png&lt;/code&gt;:&lt;br&gt;&lt;img src=&quot;http://www.fakerbin.com/img/scrollup.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;现在你可以&lt;code&gt;hexo s&lt;/code&gt;试试效果。&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&quot;主题颜色配置&quot;&gt;&lt;a href=&quot;#主题颜色配置&quot; class=&quot;headerlink&quot; title=&quot;主题颜色配置&quot;&gt;&lt;/a&gt;主题颜色配置&lt;/h2&gt;&lt;hr&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;折腾了两三天，终于把Hexo博客给顺利跑起来了，这也是自己的第一个博客。虽然自己对其中的很多原理也没搞清楚，但是终归是可以用了——工具是拿来用的，不是拿来折腾的！！！&lt;br&gt;这篇博文记录了自己搭建Hexo博客的整个过程，没有改插件，也没有创新，你可以把她看做是网上教程的一个小小汇总。&lt;br&gt;
    
    </summary>
    
      <category term="本博客主题" scheme="http://www.fakerbin.com/categories/%E6%9C%AC%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"/>
    
    
      <category term="Hexo" scheme="http://www.fakerbin.com/tags/Hexo/"/>
    
      <category term="Pacman" scheme="http://www.fakerbin.com/tags/Pacman/"/>
    
  </entry>
  
</feed>
