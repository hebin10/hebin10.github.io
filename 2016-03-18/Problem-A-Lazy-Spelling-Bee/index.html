
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Problem A. Lazy Spelling Bee | Hebin Technology Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Hebin">
    

    
    <meta name="description" content="Google Codejam 2016.Google APAC 2016 University Graduates Test.Round E APAC Test 2016.">
<meta property="og:type" content="article">
<meta property="og:title" content="Problem A. Lazy Spelling Bee">
<meta property="og:url" content="http://www.fakerbin.com/2016-03-18/Problem-A-Lazy-Spelling-Bee/index.html">
<meta property="og:site_name" content="Hebin Technology Blog">
<meta property="og:description" content="Google Codejam 2016.Google APAC 2016 University Graduates Test.Round E APAC Test 2016.">
<meta property="og:updated_time" content="2016-03-18T08:41:26.616Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Problem A. Lazy Spelling Bee">
<meta name="twitter:description" content="Google Codejam 2016.Google APAC 2016 University Graduates Test.Round E APAC Test 2016.">

    
    <link rel="alternative" href="/atom.xml" title="Hebin Technology Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Hebin Technology Blog" title="Hebin Technology Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Hebin Technology Blog">Hebin Technology Blog</a></h1>
				<h2 class="blog-motto">一个有态度的技术博客！</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/tags">标签</a></li>
					
						<li><a href="/about">关于作者</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016-03-18/Problem-A-Lazy-Spelling-Bee/" title="Problem A. Lazy Spelling Bee" itemprop="url">Problem A. Lazy Spelling Bee</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Hebin" target="_blank" itemprop="author">Hebin</a>
		
  <p class="article-time">
    <time datetime="2016-03-18T07:44:48.000Z" itemprop="datePublished"> 发表于 2016-03-18</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-A-Lazy-Spelling-Bee"><span class="toc-number">1.</span> <span class="toc-text">Problem A. Lazy Spelling Bee</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Description"><span class="toc-number">1.1.</span> <span class="toc-text">Problem Description</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Input"><span class="toc-number">1.2.</span> <span class="toc-text">Input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output"><span class="toc-number">1.3.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample"><span class="toc-number">1.4.</span> <span class="toc-text">Sample</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resolution"><span class="toc-number">1.5.</span> <span class="toc-text">Resolution</span></a></li></ol></li></ol>
		
		</div>
		
		<p>Google Codejam 2016.<br>Google APAC 2016 University Graduates Test.<br>Round E APAC Test 2016.<br><a id="more"></a></p>
<h2 id="Problem-A-Lazy-Spelling-Bee"><a href="#Problem-A-Lazy-Spelling-Bee" class="headerlink" title="Problem A. Lazy Spelling Bee"></a>Problem A. Lazy Spelling Bee</h2><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><code>Problem Description</code></h3><p>In the Lazy Spelling Bee, a contestant is given a target word W to spell. The contestant’s answer word A is acceptable if it is the same length as the target word, and the i-th letter of A is either the i-th, (i-1)th, or (i+1)th letter of W, for all i in the range of the length of A. (The first letter of A must match either the first or second letter of W, since the 0th letter of W doesn’t exist. Similarly, the last letter of A must match either the last or next-to-last letter of W.) Note that the target word itself is always an acceptable answer word.</p>
<p>You are preparing a Lazy Spelling Bee, and you have been asked to determine, for each target word, how many distinct acceptable answer words there are. Since this number may be very large, please output it modulo 1000000007 (109 + 7).</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a><code>Input</code></h3><p>The first line of the input gives the number of test cases, T. T test cases follow; each consists of one line with a string consisting only of lowercase English letters (a through z).</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a><code>Output</code></h3><p>For each test case, output one line containing “Case #x: y”, where x is the test case number (starting from 1) and y is the number of distinct acceptable answer words, <code>modulo 109 + 7</code>.</p>
<p>Limits</p>
<p>1 ≤ T ≤ 100.<br>Small dataset</p>
<p>1 ≤ length of each string ≤ 5.<br>Large dataset</p>
<p>1 ≤ length of each string ≤ 1000.</p>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a><code>Sample</code></h3><p>Input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">ag</span><br><span class="line">aa</span><br><span class="line">abcde</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<hr>
<p>Output</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Case #1: 4</span><br><span class="line">Case #2: 1</span><br><span class="line">Case #3: 108</span><br><span class="line">Case #4: 1</span><br></pre></td></tr></table></figure>
<p><a href="small_case.txt">Small Case</a><br><a href="small_case_out.txt">Result</a><br><br><br><a href="large_case.txt">Large Case</a><br><a href="large_case_out.txt">Result</a></p>
<p><strong> In sample case #1, the acceptable answer words are aa, ag, ga, and gg. </strong></p>
<p><strong> In sample case #2, the only acceptable answer word is aa. </strong></p>
<h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">fp_in = open(<span class="string">'in.txt'</span>, <span class="string">'r+'</span>)</span><br><span class="line">fp_out = open(<span class="string">'out.txt'</span>, <span class="string">'w+'</span>)</span><br><span class="line">T = fp_in.readline()</span><br><span class="line">T = int(T)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, T+<span class="number">1</span>, <span class="number">1</span>):</span><br><span class="line">    w = fp_in.readline()</span><br><span class="line">    w = w.split(<span class="string">'\n'</span>)[<span class="number">0</span>]</span><br><span class="line">    l = len(w)</span><br><span class="line">    j, k, m = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> l &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> w[<span class="number">0</span>] != w[<span class="number">1</span>]:</span><br><span class="line">            j = <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            j = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> w[l<span class="number">-1</span>] != w[l<span class="number">-2</span>]:</span><br><span class="line">            k = <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k = <span class="number">1</span></span><br><span class="line">        m = j * k</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fp_out.write(<span class="string">'Case #%d: %d\r'</span> %(x, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,l<span class="number">-1</span>,<span class="number">1</span>):</span><br><span class="line">        temp = <span class="string">''</span>+w[i<span class="number">-1</span>]+w[i]+w[i+<span class="number">1</span>]</span><br><span class="line">        m *= len(set(temp))</span><br><span class="line">    m1 = m % <span class="number">1000000007</span></span><br><span class="line">    fp_out.write(<span class="string">'Case #%d: %d\r'</span> %(x, m1))</span><br><span class="line"></span><br><span class="line">fp_in.close()</span><br><span class="line">fp_out.close()</span><br></pre></td></tr></table></figure>
<p><em>只能说Python的语法太简洁了，其他的不多说了，就说在结果情况（也就是m）值很大时，不用去担心m的范围问题，因为Python的内置类型long可以支持无限长度的整数。</em><br>这个题用python太简单就不多解释。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://www.fakerbin.com/2016-03-18/Problem-A-Lazy-Spelling-Bee/" data-title="Problem A. Lazy Spelling Bee | Hebin Technology Blog" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2016-03-17/Python-Standard-Library-学习（翻译）/"  title="Python Standard Library 学习（翻译）">
 <strong>下一篇：</strong><br/> 
 <span>Python Standard Library 学习（翻译）
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2016-03-18/Problem-A-Lazy-Spelling-Bee/" data-title="Problem A. Lazy Spelling Bee" data-url="http://www.fakerbin.com/2016-03-18/Problem-A-Lazy-Spelling-Bee/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-A-Lazy-Spelling-Bee"><span class="toc-number">1.</span> <span class="toc-text">Problem A. Lazy Spelling Bee</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Description"><span class="toc-number">1.1.</span> <span class="toc-text">Problem Description</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Input"><span class="toc-number">1.2.</span> <span class="toc-text">Input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output"><span class="toc-number">1.3.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample"><span class="toc-number">1.4.</span> <span class="toc-text">Sample</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resolution"><span class="toc-number">1.5.</span> <span class="toc-text">Resolution</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="hebin10" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/OpenStack/" title="OpenStack">OpenStack<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/本博客主题/" title="本博客主题">本博客主题<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Horizon/" title="Horizon">Horizon<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Pacman/" title="Pacman">Pacman<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/标准库/" title="标准库">标准库<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://docs.openstack.org" target="_blank" title="OpenStack Docs">OpenStack Docs</a>
            
          </li>
        
          <li>
            
            	<a href="http://stackoverflow.com/users/6075126" target="_blank" title="StackOverFlow">StackOverFlow</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Hebin, A Technical Staff of CECGW. <br/>
			This is my blog, recording my technical experience.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/hebin10" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/6075126" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Hebin">Hebin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"fakerbin"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
